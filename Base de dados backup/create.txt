CREATE table Team(id_team int not null AUTO_INCREMENT, name_team varchar(30) not null,description_team varchar(30),
                        CONSTRAINT TeamPk primary key (id_team));

CREATE table Player(id_player int not null AUTO_INCREMENT, name_player varchar(30) not null,age_player int not null, email_player varchar(30) not null,
                        CONSTRAINT PlayerPk primary key (id_player));

create table Ranking(id_ranking int not null, name_ranking varchar(10),
			CONSTRAINT RankingPK PRIMARY KEY (id_ranking));

create table Role(id_role int not null, name_role varchar(30),
			CONSTRAINT RolePK PRIMARY KEY (id_role));       

CREATE table TeamMember(player int not null, team int not null, ranking int not null, role int not null, 
                        CONSTRAINT TeamMemberPk primary key (team, player),
CONSTRAINT player_TeamMember foreign key (player)
	references Player(id_player),
CONSTRAINT team_TeamMember foreign key (team)
	references Team(id_team),
CONSTRAINT role_Teammember foreign key (role)
    references Role (id_role),
CONSTRAINT ranking_Teammember foreign key (ranking)
    references Ranking (id_ranking));

create table Field(id_field int not null AUTO_INCREMENT, name_field varchar(30),
	CONSTRAINT FieldPK PRIMARY KEY (id_field));       


create table Tactics(field int not null, name_tactic varchar(30), team int not null,
	CONSTRAINT FieldPK PRIMARY KEY (name_tactic, team),
    CONSTRAINT team_Tactic foreign key (team)
    references Team (id_team),
CONSTRAINT field_Tactic foreign key (field)
    references Field (id_field));

CREATE table Event(id_event int not null AUTO_INCREMENT, name_event varchar(30) not null, field_event int not null, date_event varchar(10), duration_event varchar(10), team_size_event int not null,
                        CONSTRAINT EventPk primary key (id_event), 
                   		CONSTRAINT field_Event foreign key (field_event)
	references Field(id_field));
                        

Create table EventPlayers(player int not null, event int not null, 
                        CONSTRAINT TeamMemberPk primary key (event, player),
CONSTRAINT player_EventPlayers foreign key (player)
	references Player(id_player),
CONSTRAINT event_EventPlayers foreign key (event)
	references Event(id_event));

	CREATE table EventMember(player int not null, event int not null, team int, CONSTRAINT EventMemberPk primary key (event, player),
      CONSTRAINT player_EventMember foreign key (player) references Player(id_player),
       CONSTRAINT event_EventMember foreign key (event) references Event(id_event),
	   CONSTRAINT team_EventMember foreign key (team) references Team(id_team));

create table InviteStatus(id_i_status int not null, name_i_status varchar(30),
			CONSTRAINT InviteStatusPK PRIMARY KEY (id_i_status));  

CREATE table Invite(id_invite int not null AUTO_INCREMENT,receiver int not null, sender int not null, teamInv int, eventInv int,status int not null,
                        CONSTRAINT InvitePk primary key (id_invite),
CONSTRAINT receiver_Invite foreign key (receiver)
	references Player(id_player),
CONSTRAINT sender_Invite foreign key (sender) 
	references Player(id_player),
CONSTRAINT team_Invite foreign key (teamInv) 
	references Team(id_team),
CONSTRAINT event_Invite foreign key (eventInv) 
	references Event(id_event));


CREATE table Notification(id_notif int not null AUTO_INCREMENT,receiver int not null,sender int not null,teamInv int, eventInv int, text_notif varchar(512) not null, invite boolean, status int not null, 
CONSTRAINT NotificationPk primary key (id_notif),
CONSTRAINT receiver_Notification foreign key (receiver)
	references Player(id_player),
CONSTRAINT sender_Notification foreign key (sender)
	references Player(id_player),
CONSTRAINT team_Invite foreign key (teamInv) 
	references Team(id_team),
CONSTRAINT event_Invite foreign key (eventInv) 
	references Event(id_event),
CONSTRAINT status_notif foreign key (status)
    references InviteStatus (id_i_status));

CREATE table EventGroup(groupNumber int not null, player int, event int not null,
                        CONSTRAINT EventGroupPk primary key (player, event, groupNumber),
CONSTRAINT player_EventGroup foreign key (player)
	references EventMember(player),
CONSTRAINT event_EventGroup foreign key (event)
	references EventMember(event));





